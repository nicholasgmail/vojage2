<template>  <section id="page-container" class="logged favorites-favorites account-index">    <div class="page-center">      <section id="wrapper_container" class="page_content haveAsideMenu"               style="justify-content: flex-end; margin-top: 10px;">        <a href="/"           @click="outRegister"           class="button button--secondary send-edit"><span>Выход</span>        </a>      </section>    </div>    <div class="page-center">      <section id="wrapper_container" class="page_content haveAsideMenu">        <!-- навигация страниц аккаунта -->        <aside-menu/>        <!-- содержимое страницы аккаунта -->        <main class="page-col-right">          <section class="forms-section information">            <div id="account-details">              <div class="details">                <h1 class="page-main-title">Персональная информация</h1>                <div class="card" id="form-DetailsManager">                  <div id="form-DetailsManager">                    <form class=""                          onsubmit="event.preventDefault()"                          data-gtm-form-interact-id="0">                      <div class="globalForm">                        <div>                          <div class="subForm">                            <header><h2 class="card__title">Персональная информация</h2></header>                            <div class="tableForm">                              <div class="civility tableForm col-100">                                <span class="label">Пол</span>                                <div class="FormInput">                                  <div class="FormError" style="display: none;"></div>                                  <div class="radiogroup">                                    <label for="1"><input id="1" name="radio" type="radio"                                                          v-model="sex" value="М"                                                          checked=""><span>М</span></label>                                    <label for="2"><input id="2" name="radio"                                                          v-model="sex" value="Ж"                                                          type="radio"><span>Ж</span></label>                                  </div>                                </div>                              </div>                              <div class="FormInput lastName tableForm">                                <div>                                  <div class="lastName tableForm">                                    <span class="label">Фамилия</span>                                    <div class="FormInput">                                      <input type="text" placeholder="Ваша фамилия"                                             v-model="last_name">                                    </div>                                  </div>                                </div>                              </div>                              <div class="FormInput firstName tableForm">                                <div>                                  <div class="firstName tableForm">                                    <span class="label">Имя</span>                                    <div class="FormInput">                                      <input type="text" placeholder="Ваше Имя"                                             v-model="first_name">                                    </div>                                  </div>                                </div>                              </div>                              <date_form                                ref="dateForm1"                                :name="name_date_birth"/>                              <div class="address-subform tableForm col-100 subForm">                                <span class="label"></span>                                <div class="FormInput city tableForm">                                  <div>                                    <div class="city tableForm">                                      <span class="label">Город</span>                                      <div class="react-mapbox-content menu-position-bottom">                                        <input placeholder="Введите ваш город"                                               class="react-mapbox-ac-input"                                               type="text"                                               v-model="city">                                        <span class="content-react-mapbox-ac-menu">																							<div class="react-mapbox-ac-menu" style="display: none;"></div>																						</span>                                      </div>                                    </div>                                    <div class="FormError"></div>                                  </div>                                </div>                              </div>                              <div class="FormInput tableForm">                                <div>                                  <div class="lastName tableForm">                                    <span class="label">Номер телефона</span>                                    <div class="FormInput">                                      <input type="text" name="phone"                                             id="phone"                                             style="padding-left: 3rem;"                                             :class="{'error': !$validator.isMobilePhone(phone),                                             'valid': $validator.isMobilePhone(phone)}"                                             v-model="phone"/>                                      <label v-show="$validator.isMobilePhone(phone) && valid"                                             id="details-lastname-error" class="error"                                             for="details-lastname">Ведите правильный номер телефона:                                        +7xxxxxxxxxx.</label>                                    </div>                                  </div>                                </div>                              </div>                              <button class="button button--secondary send-edit"                                      @click="updSet"> Сохранить изменения                              </button>                            </div>                          </div>                        </div>                      </div>                      <p v-show="person_update" style="margin-top: 10px">                        Даные обновлены.                      </p>                    </form>                  </div>                </div>                <div class="card">                  <div id="form-PassportManager">                    <form                      onsubmit="event.preventDefault()">                      <div class="globalForm">                        <div>                          <div class="subForm">                            <header><h2 class="card__title">Паспортные данные</h2></header>                            <div class="tableForm">                              <div class="FormInput passportId tableForm">                                <div>                                  <div class="passportId tableForm">                                    <span class="label">Номер паспорта</span>                                    <div class="FormInput">                                      <input type="text" placeholder="Номер" class=""                                             v-model="passport_number">                                    </div>                                  </div>                                </div>                              </div>                              <div class="FormInput">                                <div>                                  <div>                                    <div class="passportCountry tableForm">                                      <span class="label">Страна-эмитент</span>                                      <div class="FormInput">                                        <select v-model="passport_country">                                          <option v-for="item in info_issuer"                                                  :value="item.name"                                                  :disabled="item.disabled">{{ item.name }}                                          </option>                                        </select>                                      </div>                                    </div>                                  </div>                                  <div></div>                                </div>                              </div>                              <date_form                                ref="dateForm2"                                :name="name_date_pass"/>                              <div class="responsable col-100">                                <p><span>Вы несете ответственность за точность информации, которую вы нам предоставляете. Вы также должны убедиться, что вы соответствуете требованиям въезда в страну, в которую вы едете.</span><span></span>                                </p>                              </div>                            </div>                          </div>                        </div>                        <p v-show="pass_update" style="margin-top: 10px">                          Даные обновлены.                        </p>                      </div>                      <button class="button button--secondary send-edit"                              @click="updSet('pass')"> Сохранить паспортные данные                      </button>                      <div class="observable"></div>                    </form>                  </div>                </div>                <div id="gdpr-container">                  <section class="card Gdpr clearfix">                    <div class="Gdpr__block">                      <main>                        <h3 class="card__subtitle">Удаление аккаунта</h3>                        <p class="card__paragraph">Обратите внимание, что удаление                          ваших личных данных                          автоматически приведет к удалению вашей учетной записи участника.</p>                      </main>                      <button                        @click="deleteAccount"                        class="button button--secondary                      Gdpr__actionBtn">Удалить аккаунт                      </button>                    </div>                  </section>                </div>              </div>            </div>          </section>        </main>      </section>    </div>    <div id="hubContainer"></div>  </section></template><script>import AsideMenu from "../components/menu/AsideMenu.vue";import {format} from "date-fns";import ruLocale from "date-fns/locale/ru";import API from '~/api/info_account';import Date_form from "../components/all/date_form.vue";import intlTelInput from 'intl-tel-input';export default {  name: "AccountInformationPage",  components: {Date_form, AsideMenu},  layout: 'Account',  data() {    return {      last_name: '',      first_name: '',      name_date_birth: 'Дата рождения',      name_date_pass: 'Дата истечения срока действия',      sex: '',      city: '',      email: '',      passport_country: '',      passport_number: '',      phone: '+7',      valid: false,      pass_update: false,      person_update: false,      phoneNumber: '',      mt: [...API.getInfoAccount],      info_issuer: [...API.getInfoIssuer],      info_months: [...API.getInfoMonth],    };  },  computed: {    months: {      get() {        return this.mt;      },    }  },  watch: {    inf_ac(newValue, oldValue) {      return newValue;    }  },  methods: {    updSet(name) {      this.valid = true;      let month_out = format(new Date(), 'yyyy-MM-dd');      if (!this.$validator.isEmpty(`${this.$refs.dateForm1.year}`)        && !this.$validator.isEmpty(`${this.$refs.dateForm1.month}`)        && !this.$validator.isEmpty(`${this.$refs.dateForm1.day}`)) {        month_out = format(new Date(`${this.$refs.dateForm1.year}-${this.$refs.dateForm1.month}-${this.$refs.dateForm1.day}`), 'yyyy-MM-dd');      }      let month_expire_out = format(new Date(), 'yyyy-MM-dd');      if (!this.$validator.isEmpty(`${this.$refs.dateForm2.year}`)        && !this.$validator.isEmpty(`${this.$refs.dateForm2.month}`)        && !this.$validator.isEmpty(`${this.$refs.dateForm2.day}`)) {        month_expire_out =          format(new Date(`${this.$refs.dateForm2.year}-${this.$refs.dateForm2.month}-${this.$refs.dateForm2.day}`), 'yyyy-MM-dd');      }      if (this.$validator.isMobilePhone(this.phone)) {        this.person_update = false;        return null;      }      if (name === 'pass') {        this.pass_update = !this.pass_update;      } else {        this.person_update = !this.person_update;      }      let data = {        "email": `${this.email}`,        "first_name": `${this.first_name}`,        "last_name": `${this.last_name}`,        "phone": `${this.phone}`,        "dob": month_out,        "city": `${this.city}`,        "passport_number": `${this.passport_number}`,        "passport_country": `${this.passport_country}`,        "passport_expire_date": month_expire_out,        "sex": `${this.sex}`      }      this.$store.dispatch("setUpdateAccount", data);    },    deleteAccount() {      this.$store.dispatch("setDeleteAccount", this.email);    },    outRegister() {      this.$cookies.remove('token');      this.$cookies.remove('email');    },  },  updated() {  },  mounted() {    const input = document.querySelector("#phone");    intlTelInput(input, {      initialCountry: "ru",      showSelectedDialCode: false,      allowDropdown: true,      placeholderNumberType: 'mobile',      nationalMode: false,      autoInsertDialCode: true,      countrySearch: false,      onlyCountries: ['kz', 'ru', "by"],      autoPlaceholder: 'aggressive',      utilsScript: "/js/intlTel.js?1707906286003",    });    if (this.$route.name === 'account-information') {      document.body.classList.add('perso', 'no-order');    }    if (this.inf_account["dob"] !== null) {      let date_1 = new Date(this.inf_account["dob"]);      this.$refs.dateForm1.day = date_1.getDate() ? date_1.getDate() : 1;      this.$refs.dateForm1.month = date_1.getMonth() + 1;      this.$refs.dateForm1.year = date_1.getFullYear();    }    if (this.inf_account["passport_expire_date"] !== null) {      let date_2 = new Date(this.inf_account["passport_expire_date"]);      this.$refs.dateForm2.year = date_2.getFullYear();      this.$refs.dateForm2.month = date_2.getMonth() + 1;      this.$refs.dateForm2.day = date_2.getDate() ? date_2.getDate() : 1;    }    this.sex = this.inf_account["sex"];    this.email = this.inf_account["email"];    this.first_name = this.inf_account["first_name"];    this.last_name = this.inf_account["last_name"];    this.phone = this.inf_account["phone"];    this.city = this.inf_account["city"];    this.passport_number = this.inf_account["passport_number"];    this.passport_country = this.inf_account["passport_country"];    this.inf_ac = {...this.inf_account};  },  async asyncData({store, $cookies}) {    await store.dispatch('setInfoAccount', $cookies.get('email'));    let inf_account = store.state.inf_account;    return {inf_account};  },}</script><style>@import 'intl-tel-input/build/css/intlTelInput.css';.details .subForm .FormInput .iti__selected-flag {  padding: 0 8px;}</style><style scoped lang="scss">#page-container #wrapper_container.page_content {  display: flex;  justify-content: center;  flex-direction: row;}</style>